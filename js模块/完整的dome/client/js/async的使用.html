<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // es7中新增了 async await的语法

    // function fn(){
    //   return new Promise((resolve,reject)=>{
    //       resolve(100);

    // }

    // async function fn() {
    //   // return Promise.resolve(100)
    //   console.log(a);
    //   // 如果当前的async函数return的值不是一个promise实例的话，那就会默认return一个promsie的实例，100回事回调函数的实参，(如果当前函数运行没有错误那就是成功的实例，如果有错误那就是失败的实例)
    //   return 100;
    // }

    // let res = fn();
    // res.then((res)=>{
    //   console.log(res);
    // }).catch((res)=>{
    //   console.log(res);
    // })
    // console.log(fn());
    // fn().then((res) => {
    //   console.log(res);
    // });

    //--------------------------------------
    // 一般情况下载项目中async都和await一起使用
    function fn() {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve(100);
        }, 3000)
      })
    };

    // function init(){
    //   fn().then((res)=>{
    //     console.log(res);
    //     return Promise.resolve()
    //   })
    // }

    async function init() {
      let res = await fn();
      // await下边的代码会等到上边promise的状态发生变化以后才会执行(await下边代码就相当于then回调函数里的代码)
      // res就是实例变成成功态是传递的实参
      console.log(res);

    }

    init()

  </script>
</body>

</html>
